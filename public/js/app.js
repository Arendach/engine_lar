!function(t){var e={};function r(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(s,n,function(e){return t[e]}.bind(null,n));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r(r.s=20)}({106:function(t,e){},111:function(t,e){},113:function(t,e){},115:function(t,e){},118:function(t,e){},121:function(t,e){},124:function(t,e){},127:function(t,e){},130:function(t,e){},133:function(t,e){},20:function(t,e,r){r(21),r(106),r(111),r(113),r(115),r(118),r(121),r(124),r(127),r(130),t.exports=r(133)},21:function(t,e,r){r(22)},22:function(t,e,r){var s;window.Modal=r(23),window.SuccessToastr=r(24),window.SuccessHandler=r(3),window.ErrorHandler=r(4),window.DeleteOnClick=r(5),s={comma:/\,/,space:/\s/,letter:/[a-zA-Zа-яА-Я]/,anySym:/[\!\@\#\$\%\^\&\*\(\)\=\_\`\~\'\\\|\/\+\:\;\>\<\?]/,point:/\./g,hyphen:/\-/,number:/\D/},window.ElementsExists=!1,window.inputCache="",window.str_to_int=function(t){return t.replace(/\D+/g,"")},window.getParameters=function(){var t;if(t=/[\?][\w\W]+/,null!=document.location.href.match(t))return""},window.redirect=function(t){return window.location.href=t},window.url=function(t){return t=t.replace(/^\//,""),`${my_url}/${t}`},String.prototype.replaceAll=function(t,e){return this.split(t).join(e)},$(document).on("hide.bs.modal",".modal",(function(){return $(this).remove()})),$(document).on("focus","[data-inspect]",(function(){return document.inputCache=$(this).val()})),$(document).on("focusout","[data-inspect]",(function(){return document.inputCache=""})),$(document).on("change",".input-file-input",(function(t){var e,r,s,n,i,a,o;for((i=(n=$(t.currentTarget)).parents(".input-file-container").find(".input-file-names")).html(""),o=[],s=0,a=(r=n.prop("files")).length;s<a;s++)e=r[s],o.push(i.append(e.name+"<br>"));return o})),$(document).on("keyup",'[data-inspect="decimal"]',(function(){var t,e;if(""!==(e=$(this).val()))return 1===(t=null===(e=(e=(e=(e=e.replaceAll(s.comma,".")).replaceAll(s.space,"")).replaceAll(s.letter,"")).replaceAll(s.anySym,".")).match(s.point)?0:e.match(s.point).length)?e.split(".",2)[1].length>2&&(e=document.inputCache):t>1&&(e=document.inputCache),document.inputCache=e,$(this).val(e)})),eventRegister("keyup",'[data-inspect="integer"]',(function(){var t,e;if(""!==(e=$(this).val()))return t=e.match(s.hyphen),e=e.replaceAll(s.number,""),t&&(e=`-${e}`),$(this).val(e)})),$(document).on("submit",'[data-type="ajax"]',(function(t){var e,r,s,n,i,a,o,l;return t.preventDefault(),l=$(this).attr("action"),o=$(this).attr("method"),n=$(this).data("redirect-to"),a=$(this).data("success"),s=$(this).data("error"),e=$(this).data("after"),r=new FormData(this),null==l&&(l=window.location),null==o&&(o="post"),null==a&&(a="toastr"),null==s&&(s="toastr"),null==e&&(e="close"),null==n&&(n=window.location),$(this).find("[name]").attr("disabled",!0),$(this).find("button").attr("disabled",!0).prepend('<i class="fa fa-circle-o-notch fa-spin"></i> '),i=function(){return $.ajax({type:o,url:l,data:r,processData:!1,contentType:!1,success:(r,s,i)=>(new SuccessHandler(r,i).setDriver(a).setRedirectTo(n).setFormElement(t.currentTarget).setAfter(e).apply(),$(t.currentTarget).find("[name]").attr("disabled",!1),$(t.currentTarget).find("button").attr("disabled",!1).find("i.fa-spin").remove()),error:e=>(new ErrorHandler(e).setFormElement(t.currentTarget).setDriver(s).apply(),$(t.currentTarget).find("[name]").attr("disabled",!1),$(t.currentTarget).find("button").attr("disabled",!1).find("i.fa-spin").remove())})},void 0!==$(this).data("pin_code")?pin_code((function(){return i()})):i()})),$(document).on("click",'[data-type="get_form"]',(function(t){var e,r,s;return t.preventDefault(),s=$(this).data("uri"),e=$(this).data("post"),r=$(this).data("id"),void 0===e&&(e={id:r}),$(this).attr("disabled",!0),$.ajax({type:"post",url:s,data:e,success:t=>($(this).attr("disabled",!1),(new Modal).open(t),$(document).trigger("formLoaded")),error:t=>($(this).attr("disabled",!1),new ErrorHandler(t).apply())})})),eventRegister("click",'[data-type="ajax_request"]',(function(t){var e,r,s;return t.preventDefault(),s=$(this).data("uri"),r=$(this).data("post"),e=$(this).data("after"),$(this).attr("disabled",!0),$.ajax({type:"post",url:s,data:r,success:(t,r,s)=>($(this).attr("disabled",!1),new SuccessHandler(t,s).setAfter(e).apply()),error:t=>($(this).attr("disabled",!1),new ErrorHandler(t).apply())})})),eventRegister("click",".map-signs",(function(t){var e,r,s,n;return s=$(t.currentTarget),e=$(".content-left"),r=$(".content-right"),n=$(".content-right > .navbar"),"open"===s.data("state")?(e.css("left","-220px"),r.css("margin-left","0"),n.css("left","0"),s.data("state","close"),$.cookie("left-content-state","close",{expires:5})):(e.css("left","0"),r.css("margin-left","220px"),n.css("left","220px"),s.data("state","open"),$.cookie("left-content-state","open",{expires:5}))})),eventRegister("hide.bs.modal",".modal",(function(){return $(this).remove()})),$('a[data-type="pin_code"]').on("click",(function(){var t;return t=$(this).data("href"),pin_code((function(){return window.location.href=t}))})),$(document).on("click",".change-theme",(function(t){var e,r,s;return t.preventDefault(),r=$(this).data("name"),e=$(this).data("href"),s=$(this).data("theme"),$("#baze-theme").attr("href",e),$("#theme-name").text(r),$.post("/main/change_theme",{theme:s})})),$(document).on("formLoaded",(function(){return $('[data-type="ckeditor"]').each((function(){return CKEDITOR.replace($(this).attr("name"))}))})),r(25)},23:function(t,e){var r;r=class{open(t){return $(".content-page").append(t),$(".modal").modal(),this.handlers()}handlers(){return $(document).on("click","#modal_close",this.close),$(document).on("click",".poster",this.close),$(document).on("keydown",(function(){return function(t){if(27===t.which)return this.close()}}))}close(){var t;return(t=$(".modal")).modal("hide"),setTimeout((function(){return t.remove()}),400)}},t.exports=r},24:function(t,e){var r;r=function(t,e){return toastr.options.escapeHtml=!0,toastr.options.closeButton=!0,toastr.options.closeMethod="fadeOut",toastr.options.closeDuration=300,toastr.options.closeEasing="swing",toastr.options.showMethod="slideDown",toastr.options.hideMethod="slideUp",toastr.options.closeMethod="slideUp",toastr.success(e,t)},t.exports=r},25:function(t,e){var r;window.delay=function(t,e){var r;return r=0,function(...s){return clearTimeout(r),r=setTimeout(t.bind(this,...s),e||0)}},r=null,$(document).on("keyup",".contentEditable",(function(){return null!==r&&clearTimeout(r),r=setTimeout(()=>{var t,e,s,n,i;return r=null,s=(t=$(this)).data("id"),n=t.data("model"),e=t.data("field"),i=t.html(),$.ajax({type:"post",url:"/universal/update",data:{field:e,value:i,model:n,id:s},success:function(t){return toastr.success("Збережено")},error:function(t){return toastr.error("Помилка")}})},2e3)})),window.switchField=function(t){var e,r,s,n,i;return s=(e=$(t)).data("id"),n=e.data("model"),r=e.data("field"),i=e.is(":checked"),$.ajax({type:"post",url:"/universal/update",data:{field:r,value:i,model:n,id:s},success:function(t){return toastr.success("Збережено")},error:function(t){return toastr.error("Помилка")}})},window.changeField=function(t){var e,r,s,n,i,a;return n=(e=$(t)).data("id"),i=e.data("model"),r=e.data("field"),a=e.val(),s=e.find("option:selected").html(),$.ajax({type:"post",url:"/universal/update",data:{field:r,value:a,model:i,id:n},success:t=>(toastr.success("Збережено"),e.parent().hide(),e.parent().siblings(".content-editable-text").html(s).show()),error:function(t){return toastr.error(t.responseJSON.message)}})},$(document).on("click",".content-editable-text",(function(){return $(this).hide(),$(this).siblings(".content-editable-element").show()})),$(document).on("submit",'[data-type="editableForm"]',(function(t){var e,r,s;return t.preventDefault(),e=new FormData(this),r=this,s=e.get("value"),$.ajax({type:"post",url:"/universal/update",data:e,processData:!1,contentType:!1,success:function(t){return $(r).parents(".content-editable-popup").hide().siblings(".content-editable-text").html(s).show()},error:function(t){return console.log(t)}})}))},3:function(t,e){var r;r=class{constructor(t,e){this.answer=t,this.res=e,this.driver="toastr",this.after="close",this.message=this.answer.message,this.title=this.answer.title,void 0!==this.answer.redirectTo&&(this.redirectTo=this.answer.redirectTo)}setMessages(){return 200===this.res.status?this.status200Handler():301===this.res.status?this.status301Handler():(null==this.title&&(this.title="Виконано"),null!=this.message?this.message:this.message="Дані успішно збережені")}status200Handler(){return null==this.title&&(this.title="Виконано"),null!=this.message?this.message:this.message="Дані успішно збережені"}status301Handler(){return window.location.href=this.answer.redirectTo,null==this.title&&(this.title="Виконано"),null!=this.message?this.message:this.message="Дані успішно збережені"}setDriver(t){return this.driver=t,this}setAfter(t){return this.after=t,this}setRedirectTo(t){return this.redirectTo=t,this}setAfterCallable(t){return this.callable=t,this}setFormElement(t){return this.form=t,this}reload(){return $.cookie("success",!0),PjaxReload()}reset(){return $(":input",this.form).not(":button, :submit, :reset, :hidden").val("").prop("checked",!1).prop("selected",!1)}apply(){return this.setMessages(),"toastr"===this.driver?this.applyToastr():"sweetalert"===this.driver?this.applySweetalert():void 0}applyToastr(){return"reload"===this.after?this.reload():("reset"===this.after&&this.reset(),"redirect"===this.after&&(window.location.href=this.redirectTo),SuccessToastr(this.title,this.message))}applySweetalert(){return swal.fire({title:this.answer.title,text:this.answer.text,icon:"success"})}},t.exports=r},4:function(t,e){var r;r=function(){class t{constructor(t){this.answer=t,null!=this.answer.responseJSON&&(this.title=this.answer.responseJSON.title,this.message=this.answer.responseJSON.message,this.errors=this.answer.responseJSON.errors),null==this.errors&&(this.errors={})}setMessages(){return 0===this.answer.status?this.error0Handler():400===this.answer.status||422===this.answer.status?this.error400Handler():401===this.answer.status?this.error401Handler():403===this.answer.status?this.error403Handler():404===this.answer.status?this.error404Handler():500===this.answer.status?this.error500Handler():504===this.answer.status?this.error504Handler():(null==this.title&&(this.title="Помилка"),null!=this.message?this.message:this.message="Дані не вірно заповнені")}error0Handler(){return null==this.title&&(this.title="Помилка"),null!=this.message?this.message:this.message="Помилка зєднання з інтернетом :("}error400Handler(){return null==this.title&&(this.title="Помилка"),null==this.message&&(this.message="Дані невірно заповнені"),this.validateErrorAppends(),this.eventListeners()}error401Handler(){return null==this.title&&(this.title="Помилка"),null==this.message&&(this.message="Для продовження необхідно авторизуватись"),window.open("/login?after=close")}error403Handler(){return null==this.title&&(this.title="Помилка"),null!=this.message?this.message:this.message="У вас немає доступу до даної дії"}error404Handler(){return null==this.title&&(this.title="Помилка"),null!=this.message?this.message:this.message="Не знайдено елемент або невірна адреса"}error500Handler(){return null==this.title&&(this.title="Помилка"),null!=this.message?this.message:this.message="Помилка сервера: 500. Дзвони до Тараса :("}error504Handler(){return null==this.title&&(this.title="Помилка"),null!=this.message?this.message:this.message="Час очікування минув. Сервер підвис кароче :)"}validateErrorAppends(){var t,e,r,s;for(e in s=[],r=this.errors)t=r[e],Array.isArray(t)&&(t=t.join("<br>")),$(this.form).find(`[name='${e}']`).parents(".form-group").addClass("has-error"),$(`#${e}-error-block`).remove(),s.push($(`<span id='${e}-error-block' class='help-block'>${t}</span>`).insertAfter($(this.form).find(`[name='${e}']`)));return s}eventListeners(){return $(this.form).find("[name]").on("keyup change",(function(t){var e;if("Enter"!==t.key)return e=$(this).attr("name"),$(`#${e}-error-block`).remove(),$(this).parents(".form-group").removeClass("has-error")}))}setMessage(t){return this.message=t,this}setTitle(t){return this.title=t,this}setDriver(t){return this.driver=t,this}setAfter(t){return this.after=t,this}setAfterCallable(t){return this.callable=t,this}setFormElement(t){return this.form=t,this}apply(){if(this.setMessages(),"toastr"===this.driver&&this.applyToastr(),"sweetalert"===this.driver)return this.applySweetalert()}applyToastr(){return toastr.options.escapeHtml=!0,toastr.options.closeButton=!0,toastr.options.closeMethod="fadeOut",toastr.options.closeDuration=300,toastr.options.closeEasing="swing",toastr.options.onHidden=this.callable,toastr.options.showMethod="slideDown",toastr.options.hideMethod="slideUp",toastr.options.closeMethod="slideUp",toastr.error(this.message,this.title)}applySweetalert(){return swal.fire({title:this.title,text:this.message,icon:"success"})}}return t.prototype.driver="toastr",t.prototype.after="close",t.prototype.form="form",t}.call(this),t.exports=r},5:function(t,e){var r;$(document).on("click",'[data-type="delete"]',(function(t){var e,s,n;return t.preventDefault(),s=$(this).data("id"),n=$(this).data("uri"),e=void 0!==(e=$(this).data("post"))?e+"&id="+s:{id:s},r(()=>$.ajax({type:"post",url:n,data:e,success:(t,e,r)=>(new SuccessHandler(t,r).apply(),$(this).parents("tr").remove(),$(this).parents(".item-row").remove()),error:function(t){return new ErrorHandler(t).apply()}}))})),r=function(t){return swal.fire({title:"Видалити?",text:"Дану дію відмінити буде неможливо!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Так, я хочу видалити!"}).then((function(e){if(e)return t()}))},t.exports=r}});